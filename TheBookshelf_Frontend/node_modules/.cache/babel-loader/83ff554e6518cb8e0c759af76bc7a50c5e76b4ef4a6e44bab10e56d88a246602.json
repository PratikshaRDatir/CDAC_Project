{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useParams}from'react-router-dom';// To get userId from URL\nimport'./AddBookToCartPage.css';// Import the CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddBookToCartPage=()=>{const[books,setBooks]=useState([]);const[selectedBookId,setSelectedBookId]=useState('');const[quantity,setQuantity]=useState(1);const{userId}=useParams();// Assume userId is passed as a URL parameter\nuseEffect(()=>{// Fetch available books\naxios.get('/books').then(response=>setBooks(response.data)).catch(error=>console.error('Error fetching books:',error));},[]);const handleAddToCart=async e=>{e.preventDefault();try{await axios.post(`/carts/${userId}/books/${selectedBookId}`,null,{params:{quantity:quantity}});alert('Book added to cart successfully!');}catch(error){console.error('Error adding book to cart:',error);alert('Error adding book to cart.');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Book to Cart\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddToCart,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"book\",children:\"Select Book:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"book\",value:selectedBookId,onChange:e=>setSelectedBookId(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a book\"}),books.map(book=>/*#__PURE__*/_jsx(\"option\",{value:book.id,children:book.title},book.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"quantity\",children:\"Quantity:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"quantity\",value:quantity,onChange:e=>setQuantity(Number(e.target.value)),min:\"1\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add to Cart\"})]})]});};export default AddBookToCartPage;","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","jsx","_jsx","jsxs","_jsxs","AddBookToCartPage","books","setBooks","selectedBookId","setSelectedBookId","quantity","setQuantity","userId","get","then","response","data","catch","error","console","handleAddToCart","e","preventDefault","post","params","alert","children","onSubmit","htmlFor","id","value","onChange","target","map","book","title","type","Number","min"],"sources":["D:/CDAC/CDAC_Project/thebookshelf-frontend/src/components/AddBookToCartPage.js"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom'; // To get userId from URL\r\nimport './AddBookToCartPage.css'; // Import the CSS file\r\n\r\nconst AddBookToCartPage = () => {\r\n  const [books, setBooks] = useState([]);\r\n  const [selectedBookId, setSelectedBookId] = useState('');\r\n  const [quantity, setQuantity] = useState(1);\r\n  const { userId } = useParams(); // Assume userId is passed as a URL parameter\r\n\r\n  useEffect(() => {\r\n    // Fetch available books\r\n    axios.get('/books')\r\n      .then(response => setBooks(response.data))\r\n      .catch(error => console.error('Error fetching books:', error));\r\n  }, []);\r\n\r\n  const handleAddToCart = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post(`/carts/${userId}/books/${selectedBookId}`, null, {\r\n        params: {\r\n          quantity: quantity,\r\n        },\r\n      });\r\n      alert('Book added to cart successfully!');\r\n    } catch (error) {\r\n      console.error('Error adding book to cart:', error);\r\n      alert('Error adding book to cart.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Add Book to Cart</h2>\r\n      <form onSubmit={handleAddToCart}>\r\n        <div>\r\n          <label htmlFor=\"book\">Select Book:</label>\r\n          <select\r\n            id=\"book\"\r\n            value={selectedBookId}\r\n            onChange={(e) => setSelectedBookId(e.target.value)}\r\n          >\r\n            <option value=\"\">Select a book</option>\r\n            {books.map(book => (\r\n              <option key={book.id} value={book.id}>\r\n                {book.title}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"quantity\">Quantity:</label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"quantity\"\r\n            value={quantity}\r\n            onChange={(e) => setQuantity(Number(e.target.value))}\r\n            min=\"1\"\r\n          />\r\n        </div>\r\n        <button type=\"submit\">Add to Cart</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default AddBookToCartPage;\r\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,kBAAkB,CAAE;AAC9C,MAAO,yBAAyB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACW,cAAc,CAAEC,iBAAiB,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAAEe,MAAO,CAAC,CAAGZ,SAAS,CAAC,CAAC,CAAE;AAEhCF,SAAS,CAAC,IAAM,CACd;AACAC,KAAK,CAACc,GAAG,CAAC,QAAQ,CAAC,CAChBC,IAAI,CAACC,QAAQ,EAAIR,QAAQ,CAACQ,QAAQ,CAACC,IAAI,CAAC,CAAC,CACzCC,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAAC,CAClE,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,eAAe,CAAG,KAAO,CAAAC,CAAC,EAAK,CACnCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAvB,KAAK,CAACwB,IAAI,CAAC,UAAUX,MAAM,UAAUJ,cAAc,EAAE,CAAE,IAAI,CAAE,CACjEgB,MAAM,CAAE,CACNd,QAAQ,CAAEA,QACZ,CACF,CAAC,CAAC,CACFe,KAAK,CAAC,kCAAkC,CAAC,CAC3C,CAAE,MAAOP,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClDO,KAAK,CAAC,4BAA4B,CAAC,CACrC,CACF,CAAC,CAED,mBACErB,KAAA,QAAAsB,QAAA,eACExB,IAAA,OAAAwB,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBtB,KAAA,SAAMuB,QAAQ,CAAEP,eAAgB,CAAAM,QAAA,eAC9BtB,KAAA,QAAAsB,QAAA,eACExB,IAAA,UAAO0B,OAAO,CAAC,MAAM,CAAAF,QAAA,CAAC,cAAY,CAAO,CAAC,cAC1CtB,KAAA,WACEyB,EAAE,CAAC,MAAM,CACTC,KAAK,CAAEtB,cAAe,CACtBuB,QAAQ,CAAGV,CAAC,EAAKZ,iBAAiB,CAACY,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE,CAAAJ,QAAA,eAEnDxB,IAAA,WAAQ4B,KAAK,CAAC,EAAE,CAAAJ,QAAA,CAAC,eAAa,CAAQ,CAAC,CACtCpB,KAAK,CAAC2B,GAAG,CAACC,IAAI,eACbhC,IAAA,WAAsB4B,KAAK,CAAEI,IAAI,CAACL,EAAG,CAAAH,QAAA,CAClCQ,IAAI,CAACC,KAAK,EADAD,IAAI,CAACL,EAEV,CACT,CAAC,EACI,CAAC,EACN,CAAC,cACNzB,KAAA,QAAAsB,QAAA,eACExB,IAAA,UAAO0B,OAAO,CAAC,UAAU,CAAAF,QAAA,CAAC,WAAS,CAAO,CAAC,cAC3CxB,IAAA,UACEkC,IAAI,CAAC,QAAQ,CACbP,EAAE,CAAC,UAAU,CACbC,KAAK,CAAEpB,QAAS,CAChBqB,QAAQ,CAAGV,CAAC,EAAKV,WAAW,CAAC0B,MAAM,CAAChB,CAAC,CAACW,MAAM,CAACF,KAAK,CAAC,CAAE,CACrDQ,GAAG,CAAC,GAAG,CACR,CAAC,EACC,CAAC,cACNpC,IAAA,WAAQkC,IAAI,CAAC,QAAQ,CAAAV,QAAA,CAAC,aAAW,CAAQ,CAAC,EACtC,CAAC,EACJ,CAAC,CAEV,CAAC,CAGD,cAAe,CAAArB,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}